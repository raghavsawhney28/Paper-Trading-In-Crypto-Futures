{"ast":null,"code":"import _regeneratorRuntime from \"C:/Paper-Trading-In-Crypto-Futures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Paper-Trading-In-Crypto-Futures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Paper-Trading-In-Crypto-Futures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\Paper-Trading-In-Crypto-Futures\\\\src\\\\backend\\\\LivePrice.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport classes from \"./LivePrice.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar LivePrice = function LivePrice(props) {\n  _s();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    price = _useState2[0],\n    setPrice = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var cryptoSymbol = \"bitcoin\";\n  var currency = \"usd\";\n  var Price = props.Price;\n  useEffect(function () {\n    var getLiveCryptoPrice = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response, _price;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"https://api.coingecko.com/api/v3/simple/price?ids=\".concat(cryptoSymbol, \"&vs_currencies=\").concat(currency));\n            case 3:\n              response = _context.sent;\n              _price = response.data[cryptoSymbol.toLowerCase()][currency.toLowerCase()];\n              setPrice(_price);\n              _context.next = 11;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              setError(\"Failed to fetch live crypto price: \".concat(_context.t0.message));\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 8]]);\n      }));\n      return function getLiveCryptoPrice() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    // Fetch the price initially\n    getLiveCryptoPrice();\n\n    // Fetch the price every 10 seconds (or any other desired interval)\n    var interval = setInterval(getLiveCryptoPrice, 10000); // 10 seconds\n\n    // Clean up the interval when the component unmounts\n    return function () {\n      return clearInterval(interval);\n    };\n  }, [currency, cryptoSymbol]);\n  return /*#__PURE__*/_jsxDEV(\"td\", {\n    className: classes.td,\n    children: Price\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, _this)\n  // <div>\n  //   {price ? (\n  //     // <p>\n  //     //   {price}\n\n  //     // </p>\n  //   ) : (\n  //     <p>Loading...</p>\n  //   )}\n  //   {error && <p>Error: {error}</p>}\n  // </div>\n  ;\n};\n_s(LivePrice, \"Co+/x8CMODCZa+Y5Co51wdiD2u4=\");\n_c = LivePrice;\nexport default LivePrice;\nvar _c;\n$RefreshReg$(_c, \"LivePrice\");","map":{"version":3,"names":["React","useState","useEffect","axios","classes","jsxDEV","_jsxDEV","LivePrice","props","_s","_useState","_useState2","_slicedToArray","price","setPrice","_useState3","_useState4","error","setError","cryptoSymbol","currency","Price","getLiveCryptoPrice","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","_price","wrap","_callee$","_context","prev","next","get","concat","sent","data","toLowerCase","t0","message","stop","apply","arguments","interval","setInterval","clearInterval","className","td","children","fileName","_jsxFileName","lineNumber","columnNumber","_this","_c","$RefreshReg$"],"sources":["C:/Paper-Trading-In-Crypto-Futures/src/backend/LivePrice.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport classes from \"./LivePrice.module.css\";\r\n\r\nconst LivePrice = (props) => {\r\n  const [price, setPrice] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const cryptoSymbol = \"bitcoin\";\r\n  const currency = \"usd\";\r\n\r\n  const Price = props.Price;\r\n\r\n  useEffect(() => {\r\n    const getLiveCryptoPrice = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `https://api.coingecko.com/api/v3/simple/price?ids=${cryptoSymbol}&vs_currencies=${currency}`\r\n        );\r\n        const price =\r\n          response.data[cryptoSymbol.toLowerCase()][currency.toLowerCase()];\r\n        setPrice(price);\r\n      } catch (error) {\r\n        setError(`Failed to fetch live crypto price: ${error.message}`);\r\n      }\r\n    };\r\n\r\n    // Fetch the price initially\r\n    getLiveCryptoPrice();\r\n\r\n    // Fetch the price every 10 seconds (or any other desired interval)\r\n    const interval = setInterval(getLiveCryptoPrice, 10000); // 10 seconds\r\n\r\n    // Clean up the interval when the component unmounts\r\n    return () => clearInterval(interval);\r\n  }, [currency, cryptoSymbol]);\r\n\r\n  return (\r\n    <td className={classes.td}>{Price}</td>\r\n    // <div>\r\n    //   {price ? (\r\n    //     // <p>\r\n    //     //   {price}\r\n\r\n    //     // </p>\r\n    //   ) : (\r\n    //     <p>Loading...</p>\r\n    //   )}\r\n    //   {error && <p>Error: {error}</p>}\r\n    // </div>\r\n  );\r\n};\r\n\r\nexport default LivePrice;\r\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7C,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAIC,KAAK,EAAK;EAAAC,EAAA;EAC3B,IAAAC,SAAA,GAA0BT,QAAQ,CAAC,IAAI,CAAC;IAAAU,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAjCG,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EACtB,IAAAI,UAAA,GAA0Bd,QAAQ,CAAC,IAAI,CAAC;IAAAe,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAMG,YAAY,GAAG,SAAS;EAC9B,IAAMC,QAAQ,GAAG,KAAK;EAEtB,IAAMC,KAAK,GAAGb,KAAK,CAACa,KAAK;EAEzBnB,SAAS,CAAC,YAAM;IACd,IAAMoB,kBAAkB;MAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA;QAAA,IAAAC,QAAA,EAAAC,MAAA;QAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEA/B,KAAK,CAACgC,GAAG,sDAAAC,MAAA,CACuBjB,YAAY,qBAAAiB,MAAA,CAAkBhB,QAAQ,CAC7F,CAAC;YAAA;cAFKQ,QAAQ,GAAAI,QAAA,CAAAK,IAAA;cAGRxB,MAAK,GACTe,QAAQ,CAACU,IAAI,CAACnB,YAAY,CAACoB,WAAW,CAAC,CAAC,CAAC,CAACnB,QAAQ,CAACmB,WAAW,CAAC,CAAC,CAAC;cACnEzB,QAAQ,CAACD,MAAK,CAAC;cAACmB,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAQ,EAAA,GAAAR,QAAA;cAEhBd,QAAQ,uCAAAkB,MAAA,CAAuCJ,QAAA,CAAAQ,EAAA,CAAMC,OAAO,CAAE,CAAC;YAAC;YAAA;cAAA,OAAAT,QAAA,CAAAU,IAAA;UAAA;QAAA,GAAAf,OAAA;MAAA,CAEnE;MAAA,gBAXKL,kBAAkBA,CAAA;QAAA,OAAAC,IAAA,CAAAoB,KAAA,OAAAC,SAAA;MAAA;IAAA,GAWvB;;IAED;IACAtB,kBAAkB,CAAC,CAAC;;IAEpB;IACA,IAAMuB,QAAQ,GAAGC,WAAW,CAACxB,kBAAkB,EAAE,KAAK,CAAC,CAAC,CAAC;;IAEzD;IACA,OAAO;MAAA,OAAMyB,aAAa,CAACF,QAAQ,CAAC;IAAA;EACtC,CAAC,EAAE,CAACzB,QAAQ,EAAED,YAAY,CAAC,CAAC;EAE5B,oBACEb,OAAA;IAAI0C,SAAS,EAAE5C,OAAO,CAAC6C,EAAG;IAAAC,QAAA,EAAE7B;EAAK;IAAA8B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,GAAAC,KAAK;EACtC;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EAAA;AAEJ,CAAC;AAAC9C,EAAA,CA9CIF,SAAS;AAAAiD,EAAA,GAATjD,SAAS;AAgDf,eAAeA,SAAS;AAAC,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}