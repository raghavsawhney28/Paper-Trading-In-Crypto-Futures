{"ast":null,"code":"import _regeneratorRuntime from\"C:/Paper-Trading-In-Crypto-Futures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Paper-Trading-In-Crypto-Futures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Paper-Trading-In-Crypto-Futures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import classes from\"./LivePrice.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";var LivePrice=function LivePrice(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),price=_useState2[0],setPrice=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var cryptoSymbol=\"bitcoin\";var currency=\"usd\";var Price=props.Price;useEffect(function(){var getLiveCryptoPrice=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_price;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://api.coingecko.com/api/v3/simple/price?ids=\".concat(cryptoSymbol,\"&vs_currencies=\").concat(currency));case 3:response=_context.sent;_price=response.data[cryptoSymbol.toLowerCase()][currency.toLowerCase()];setPrice(_price);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setError(\"Failed to fetch live crypto price: \".concat(_context.t0.message));case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function getLiveCryptoPrice(){return _ref.apply(this,arguments);};}();// Fetch the price initially\ngetLiveCryptoPrice();// Fetch the price every 10 seconds (or any other desired interval)\nvar interval=setInterval(getLiveCryptoPrice,10000);// 10 seconds\n// Clean up the interval when the component unmounts\nreturn function(){return clearInterval(interval);};},[currency,cryptoSymbol]);return/*#__PURE__*/_jsx(\"td\",{className:classes.td,children:Price})// <div>\n//   {price ? (\n//     // <p>\n//     //   {price}\n//     // </p>\n//   ) : (\n//     <p>Loading...</p>\n//   )}\n//   {error && <p>Error: {error}</p>}\n// </div>\n;};export default LivePrice;","map":{"version":3,"names":["React","useState","useEffect","axios","classes","jsx","_jsx","LivePrice","props","_useState","_useState2","_slicedToArray","price","setPrice","_useState3","_useState4","error","setError","cryptoSymbol","currency","Price","getLiveCryptoPrice","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","_price","wrap","_callee$","_context","prev","next","get","concat","sent","data","toLowerCase","t0","message","stop","apply","arguments","interval","setInterval","clearInterval","className","td","children"],"sources":["C:/Paper-Trading-In-Crypto-Futures/src/backend/LivePrice.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport classes from \"./LivePrice.module.css\";\r\n\r\nconst LivePrice = (props) => {\r\n  const [price, setPrice] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const cryptoSymbol = \"bitcoin\";\r\n  const currency = \"usd\";\r\n\r\n  const Price = props.Price;\r\n\r\n  useEffect(() => {\r\n    const getLiveCryptoPrice = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `https://api.coingecko.com/api/v3/simple/price?ids=${cryptoSymbol}&vs_currencies=${currency}`\r\n        );\r\n        const price =\r\n          response.data[cryptoSymbol.toLowerCase()][currency.toLowerCase()];\r\n        setPrice(price);\r\n      } catch (error) {\r\n        setError(`Failed to fetch live crypto price: ${error.message}`);\r\n      }\r\n    };\r\n\r\n    // Fetch the price initially\r\n    getLiveCryptoPrice();\r\n\r\n    // Fetch the price every 10 seconds (or any other desired interval)\r\n    const interval = setInterval(getLiveCryptoPrice, 10000); // 10 seconds\r\n\r\n    // Clean up the interval when the component unmounts\r\n    return () => clearInterval(interval);\r\n  }, [currency, cryptoSymbol]);\r\n\r\n  return (\r\n    <td className={classes.td}>{Price}</td>\r\n    // <div>\r\n    //   {price ? (\r\n    //     // <p>\r\n    //     //   {price}\r\n\r\n    //     // </p>\r\n    //   ) : (\r\n    //     <p>Loading...</p>\r\n    //   )}\r\n    //   {error && <p>Error: {error}</p>}\r\n    // </div>\r\n  );\r\n};\r\n\r\nexport default LivePrice;\r\n"],"mappings":"oeAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,OAAO,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE7C,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIC,KAAK,CAAK,CAC3B,IAAAC,SAAA,CAA0BR,QAAQ,CAAC,IAAI,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAA0Bb,QAAQ,CAAC,IAAI,CAAC,CAAAc,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,GAAM,CAAAG,YAAY,CAAG,SAAS,CAC9B,GAAM,CAAAC,QAAQ,CAAG,KAAK,CAEtB,GAAM,CAAAC,KAAK,CAAGZ,KAAK,CAACY,KAAK,CAEzBlB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAmB,kBAAkB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,MAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEA,CAAA9B,KAAK,CAAC+B,GAAG,sDAAAC,MAAA,CACuBjB,YAAY,oBAAAiB,MAAA,CAAkBhB,QAAQ,CAC7F,CAAC,QAFKQ,QAAQ,CAAAI,QAAA,CAAAK,IAAA,CAGRxB,MAAK,CACTe,QAAQ,CAACU,IAAI,CAACnB,YAAY,CAACoB,WAAW,CAAC,CAAC,CAAC,CAACnB,QAAQ,CAACmB,WAAW,CAAC,CAAC,CAAC,CACnEzB,QAAQ,CAACD,MAAK,CAAC,CAACmB,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAQ,EAAA,CAAAR,QAAA,aAEhBd,QAAQ,uCAAAkB,MAAA,CAAuCJ,QAAA,CAAAQ,EAAA,CAAMC,OAAO,CAAE,CAAC,CAAC,yBAAAT,QAAA,CAAAU,IAAA,MAAAf,OAAA,gBAEnE,kBAXK,CAAAL,kBAAkBA,CAAA,SAAAC,IAAA,CAAAoB,KAAA,MAAAC,SAAA,OAWvB,CAED;AACAtB,kBAAkB,CAAC,CAAC,CAEpB;AACA,GAAM,CAAAuB,QAAQ,CAAGC,WAAW,CAACxB,kBAAkB,CAAE,KAAK,CAAC,CAAE;AAEzD;AACA,MAAO,kBAAM,CAAAyB,aAAa,CAACF,QAAQ,CAAC,GACtC,CAAC,CAAE,CAACzB,QAAQ,CAAED,YAAY,CAAC,CAAC,CAE5B,mBACEZ,IAAA,OAAIyC,SAAS,CAAE3C,OAAO,CAAC4C,EAAG,CAAAC,QAAA,CAAE7B,KAAK,CAAK,CACtC;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA,CAEJ,CAAC,CAED,cAAe,CAAAb,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}