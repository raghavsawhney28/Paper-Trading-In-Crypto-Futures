{"ast":null,"code":"import{useEffect,useRef,React,useContext}from\"react\";import classes from\"./Chart.module.css\";import DataContext from\"../context/data\";import{jsx as _jsx}from\"react/jsx-runtime\";var tvScriptLoadingPromise;var Chart=function Chart(){var onLoadScriptRef=useRef();var a=useContext(DataContext);useEffect(function(){onLoadScriptRef.current=createWidget;if(!tvScriptLoadingPromise){tvScriptLoadingPromise=new Promise(function(resolve){var script=document.createElement(\"script\");script.id=\"tradingview-widget-loading-script\";script.src=\"https://s3.tradingview.com/tv.js\";script.type=\"text/javascript\";script.onload=resolve;document.head.appendChild(script);});}tvScriptLoadingPromise.then(function(){return onLoadScriptRef.current&&onLoadScriptRef.current();});return function(){return onLoadScriptRef.current=null;};function createWidget(){if(document.getElementById(\"tradingview_49aba\")&&\"TradingView\"in window){new window.TradingView.widget({autosize:true,symbol:a.state.name,interval:\"15\",timezone:\"Asia/Kolkata\",theme:\"dark\",style:\"1\",locale:\"in\",toolbar_bg:\"#f1f3f6\",enable_publishing:false,hide_side_toolbar:false,// allow_symbol_change: true,\ncontainer_id:\"tradingview_49aba\"});}}},[a.state.name]);return/*#__PURE__*/_jsx(\"div\",{id:\"tradingview_49aba\",className:classes.tradingview});};export default Chart;","map":{"version":3,"names":["useEffect","useRef","React","useContext","classes","DataContext","jsx","_jsx","tvScriptLoadingPromise","Chart","onLoadScriptRef","a","current","createWidget","Promise","resolve","script","document","createElement","id","src","type","onload","head","appendChild","then","getElementById","window","TradingView","widget","autosize","symbol","state","name","interval","timezone","theme","style","locale","toolbar_bg","enable_publishing","hide_side_toolbar","container_id","className","tradingview"],"sources":["C:/Paper-Trading-In-Crypto-Futures/src/components/Chart.js"],"sourcesContent":["import { useEffect, useRef, React, useContext } from \"react\";\r\nimport classes from \"./Chart.module.css\";\r\n\r\nimport DataContext from \"../context/data\";\r\n\r\nlet tvScriptLoadingPromise;\r\n\r\nconst Chart = () => {\r\n  const onLoadScriptRef = useRef();\r\n  const a = useContext(DataContext);\r\n\r\n  useEffect(() => {\r\n    onLoadScriptRef.current = createWidget;\r\n\r\n    if (!tvScriptLoadingPromise) {\r\n      tvScriptLoadingPromise = new Promise((resolve) => {\r\n        const script = document.createElement(\"script\");\r\n        script.id = \"tradingview-widget-loading-script\";\r\n        script.src = \"https://s3.tradingview.com/tv.js\";\r\n        script.type = \"text/javascript\";\r\n        script.onload = resolve;\r\n\r\n        document.head.appendChild(script);\r\n      });\r\n    }\r\n\r\n    tvScriptLoadingPromise.then(\r\n      () => onLoadScriptRef.current && onLoadScriptRef.current()\r\n    );\r\n\r\n    return () => (onLoadScriptRef.current = null);\r\n\r\n    function createWidget() {\r\n      if (\r\n        document.getElementById(\"tradingview_49aba\") &&\r\n        \"TradingView\" in window\r\n      ) {\r\n        new window.TradingView.widget({\r\n          autosize: true,\r\n          symbol: a.state.name,\r\n          interval: \"15\",\r\n          timezone: \"Asia/Kolkata\",\r\n          theme: \"dark\",\r\n          style: \"1\",\r\n          locale: \"in\",\r\n          toolbar_bg: \"#f1f3f6\",\r\n          enable_publishing: false,\r\n          hide_side_toolbar: false,\r\n          // allow_symbol_change: true,\r\n          container_id: \"tradingview_49aba\",\r\n        });\r\n      }\r\n    }\r\n  }, [a.state.name]);\r\n\r\n  return <div id=\"tradingview_49aba\" className={classes.tradingview} />\r\n  ;\r\n};\r\n\r\nexport default Chart;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,CAAEC,KAAK,CAAEC,UAAU,KAAQ,OAAO,CAC5D,MAAO,CAAAC,OAAO,KAAM,oBAAoB,CAExC,MAAO,CAAAC,WAAW,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1C,GAAI,CAAAC,sBAAsB,CAE1B,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAClB,GAAM,CAAAC,eAAe,CAAGT,MAAM,CAAC,CAAC,CAChC,GAAM,CAAAU,CAAC,CAAGR,UAAU,CAACE,WAAW,CAAC,CAEjCL,SAAS,CAAC,UAAM,CACdU,eAAe,CAACE,OAAO,CAAGC,YAAY,CAEtC,GAAI,CAACL,sBAAsB,CAAE,CAC3BA,sBAAsB,CAAG,GAAI,CAAAM,OAAO,CAAC,SAACC,OAAO,CAAK,CAChD,GAAM,CAAAC,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAC/CF,MAAM,CAACG,EAAE,CAAG,mCAAmC,CAC/CH,MAAM,CAACI,GAAG,CAAG,kCAAkC,CAC/CJ,MAAM,CAACK,IAAI,CAAG,iBAAiB,CAC/BL,MAAM,CAACM,MAAM,CAAGP,OAAO,CAEvBE,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,MAAM,CAAC,CACnC,CAAC,CAAC,CACJ,CAEAR,sBAAsB,CAACiB,IAAI,CACzB,iBAAM,CAAAf,eAAe,CAACE,OAAO,EAAIF,eAAe,CAACE,OAAO,CAAC,CAAC,EAC5D,CAAC,CAED,MAAO,kBAAO,CAAAF,eAAe,CAACE,OAAO,CAAG,IAAI,EAAC,CAE7C,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACtB,GACEI,QAAQ,CAACS,cAAc,CAAC,mBAAmB,CAAC,EAC5C,aAAa,EAAI,CAAAC,MAAM,CACvB,CACA,GAAI,CAAAA,MAAM,CAACC,WAAW,CAACC,MAAM,CAAC,CAC5BC,QAAQ,CAAE,IAAI,CACdC,MAAM,CAAEpB,CAAC,CAACqB,KAAK,CAACC,IAAI,CACpBC,QAAQ,CAAE,IAAI,CACdC,QAAQ,CAAE,cAAc,CACxBC,KAAK,CAAE,MAAM,CACbC,KAAK,CAAE,GAAG,CACVC,MAAM,CAAE,IAAI,CACZC,UAAU,CAAE,SAAS,CACrBC,iBAAiB,CAAE,KAAK,CACxBC,iBAAiB,CAAE,KAAK,CACxB;AACAC,YAAY,CAAE,mBAChB,CAAC,CAAC,CACJ,CACF,CACF,CAAC,CAAE,CAAC/B,CAAC,CAACqB,KAAK,CAACC,IAAI,CAAC,CAAC,CAElB,mBAAO1B,IAAA,QAAKY,EAAE,CAAC,mBAAmB,CAACwB,SAAS,CAAEvC,OAAO,CAACwC,WAAY,CAAE,CAAC,CAEvE,CAAC,CAED,cAAe,CAAAnC,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}