{"ast":null,"code":"import _slicedToArray from\"C:/Paper-Trading-In-Crypto-Futures/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import DataContext from\"../../context/data\";import classes from\"./PositionR.module.css\";import LivePrice from\"../../backend/LivePrice.js\";import{useContext,useState,useEffect}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PositionR=function PositionR(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),Price=_useState2[0],setPrices=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),Percent=_useState4[0],setPercent=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),ProfitPercent=_useState6[0],setProfitPercent=_useState6[1];var _useState7=useState(20048),_useState8=_slicedToArray(_useState7,2),EntryPrice=_useState8[0],setEntryPrice=_useState8[1];var b=useContext(DataContext);useEffect(function(){// WebSocket connection URL\nvar socketUrl=\"wss://stream.binance.com:9443/ws/btcusdt@trade\";// Create a new WebSocket instance\nvar ws=new WebSocket(socketUrl);// Event listener for incoming messages\nws.onmessage=function(event){try{var data=JSON.parse(event.data);var newPrice=parseFloat(data.p).toFixed(2);setPrices(newPrice);setPercent(((newPrice-EntryPrice)/EntryPrice*100).toFixed(2));setProfitPercent((Percent*b.Leverage).toFixed(2));}catch(error){console.error(\"Error parsing incoming data:\",error);}};// Event listener for WebSocket connection error\nws.onerror=function(error){console.error(\"WebSocket connection error:\",error);};// Clean up function to close the WebSocket connection when the component unmounts\nreturn function(){ws.close();};},[EntryPrice,Percent,b.Leverage]);var Margin=450.1;var ProfitUSDT=(Margin/100*ProfitPercent).toFixed(2);var Profit=\"+\".concat(ProfitUSDT,\"(+\").concat(ProfitPercent,\"%)\");return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:classes.div1,children:/*#__PURE__*/_jsxs(\"table\",{className:classes.body1,children:[/*#__PURE__*/_jsx(\"thead\",{className:classes.thead1,children:/*#__PURE__*/_jsx(\"tr\",{className:classes.tr1,children:/*#__PURE__*/_jsxs(\"th\",{className:classes.symbol1,children:[\"BTCUSDT Perpetual\",/*#__PURE__*/_jsx(\"div\",{className:classes.leverage1,children:/*#__PURE__*/_jsxs(\"span\",{children:[b.Leverage,\"x\"]})})]})})}),/*#__PURE__*/_jsxs(\"tbody\",{className:classes.tbody1,children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{className:classes.size1,children:\"Size(USDT)\"})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:classes.size11,children:\"2250.50\"})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{className:classes.margin1,children:\"Margin(USDT)\"})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{className:classes.margin11,children:[Margin,\" USDT\"]})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{className:classes.Eprice1,children:\"Entry Price\"})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:classes.Eprice11,children:\"20,048\"})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{className:classes.Mprice1,children:\"Mark Price\"})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:classes.Mprice11,children:/*#__PURE__*/_jsx(LivePrice,{Price:Price})})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{className:classes.Lprice1,children:\"Liq. Price\"})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:classes.Lprice11,children:\"16,753\"})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{className:classes.Pnl1,children:\"PNL(USDT)\"})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:classes.Pnl11,children:Profit})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{className:classes.closeP,children:\"Close All\"})})]})]})})});};export default PositionR;","map":{"version":3,"names":["React","DataContext","classes","LivePrice","useContext","useState","useEffect","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","PositionR","_useState","_useState2","_slicedToArray","Price","setPrices","_useState3","_useState4","Percent","setPercent","_useState5","_useState6","ProfitPercent","setProfitPercent","_useState7","_useState8","EntryPrice","setEntryPrice","b","socketUrl","ws","WebSocket","onmessage","event","data","JSON","parse","newPrice","parseFloat","p","toFixed","Leverage","error","console","onerror","close","Margin","ProfitUSDT","Profit","concat","children","className","div1","body1","thead1","tr1","symbol1","leverage1","tbody1","size1","size11","margin1","margin11","Eprice1","Eprice11","Mprice1","Mprice11","Lprice1","Lprice11","Pnl1","Pnl11","closeP"],"sources":["C:/Paper-Trading-In-Crypto-Futures/src/components/positions/PositionR.js"],"sourcesContent":["import React from \"react\";\r\nimport DataContext from \"../../context/data\";\r\nimport classes from \"./PositionR.module.css\";\r\nimport LivePrice from \"../../backend/LivePrice.js\";\r\nimport { useContext, useState, useEffect } from \"react\";\r\n\r\nconst PositionR = () => {\r\n  const [Price, setPrices] = useState(null);\r\n  const [Percent, setPercent] = useState();\r\n  const [ProfitPercent, setProfitPercent] = useState();\r\n  const [EntryPrice, setEntryPrice] = useState(20048);\r\n  const b = useContext(DataContext);\r\n  useEffect(() => {\r\n    // WebSocket connection URL\r\n    const socketUrl = \"wss://stream.binance.com:9443/ws/btcusdt@trade\";\r\n\r\n    // Create a new WebSocket instance\r\n    const ws = new WebSocket(socketUrl);\r\n\r\n    // Event listener for incoming messages\r\n    ws.onmessage = (event) => {\r\n      try {\r\n        const data = JSON.parse(event.data);\r\n        const newPrice = parseFloat(data.p).toFixed(2);\r\n        setPrices(newPrice);\r\n\r\n        setPercent((((newPrice - EntryPrice) / EntryPrice) * 100).toFixed(2));\r\n        setProfitPercent((Percent * b.Leverage).toFixed(2));\r\n      } catch (error) {\r\n        console.error(\"Error parsing incoming data:\", error);\r\n      }\r\n    };\r\n\r\n    // Event listener for WebSocket connection error\r\n    ws.onerror = (error) => {\r\n      console.error(\"WebSocket connection error:\", error);\r\n    };\r\n\r\n    // Clean up function to close the WebSocket connection when the component unmounts\r\n    return () => {\r\n      ws.close();\r\n    };\r\n  }, [EntryPrice, Percent, b.Leverage]);\r\n\r\n  const Margin = 450.1;\r\n  const ProfitUSDT = ((Margin / 100) * ProfitPercent).toFixed(2);\r\n  const Profit = `+${ProfitUSDT}(+${ProfitPercent}%)`;\r\n  return (\r\n    <>\r\n      <div className={classes.div1}>\r\n        <table className={classes.body1}>\r\n          <thead className={classes.thead1}>\r\n            <tr className={classes.tr1}>\r\n              <th className={classes.symbol1}>\r\n                BTCUSDT Perpetual\r\n                <div className={classes.leverage1}>\r\n                  <span>{b.Leverage}x</span>\r\n                  {/* <span>Isolate 10x</span> */}\r\n                </div>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className={classes.tbody1}>\r\n            <tr>\r\n              <th className={classes.size1}>Size(USDT)</th>\r\n            </tr>\r\n            <tr>\r\n              <td className={classes.size11}>2250.50</td>\r\n            </tr>\r\n            <tr>\r\n              <th className={classes.margin1}>Margin(USDT)</th>\r\n            </tr>\r\n            <tr>\r\n              {/* <td className={classes.margin11}>1200</td> */}\r\n              <td className={classes.margin11}>{Margin} USDT</td>\r\n            </tr>\r\n            <tr>\r\n              <th className={classes.Eprice1}>Entry Price</th>\r\n            </tr>\r\n            <tr>\r\n              <td className={classes.Eprice11}>20,048</td>\r\n            </tr>\r\n            <tr>\r\n              <th className={classes.Mprice1}>Mark Price</th>\r\n            </tr>\r\n            <tr>\r\n              <td className={classes.Mprice11}>\r\n                {/* 20,798 */}\r\n                <LivePrice Price={Price} />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th className={classes.Lprice1}>Liq. Price</th>\r\n            </tr>\r\n            <tr>\r\n              <td className={classes.Lprice11}>16,753</td>\r\n            </tr>\r\n            <tr>\r\n              <th className={classes.Pnl1}>PNL(USDT)</th>\r\n            </tr>\r\n            <tr>\r\n              {/* <td className={classes.Pnl11}>200</td> */}\r\n              <td className={classes.Pnl11}>{Profit}</td>\r\n            </tr>\r\n            <tr>\r\n              <th className={classes.closeP}>Close All</th>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default PositionR;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}